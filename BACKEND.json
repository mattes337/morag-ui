{"openapi":"3.1.0","info":{"title":"MoRAG Stage-Based Processing API","description":"\n        # Stage-Based Processing System\n\n        MoRAG Stage-Based Processing API using canonical stage names:\n        - **markdown-conversion**: Convert input files to unified markdown format\n        - **markdown-optimizer**: LLM-based text improvement and error correction (optional)\n        - **chunker**: Create summary, chunks, and contextual embeddings\n        - **fact-generator**: Extract facts, entities, relations, and keywords\n        - **ingestor**: Database ingestion and storage\n\n        ## Key Features\n        - Individual stage execution with canonical names\n        - Stage chain execution for multi-step processing\n        - File management and download capabilities\n        - Webhook notifications for stage completion\n        - Resume capability with existing output detection\n        - Flexible request formats: accepts both JSON objects and JSON strings (Postman compatible)\n\n        ## API Endpoints\n        - `/api/v1/stages/` - List available stages\n        - `/api/v1/stages/{stage-name}/execute` - Execute individual stages\n        - `/api/v1/stages/chain` - Execute stage chains\n        - `/api/v1/stages/status` - Check execution status\n        - `/api/v1/stages/health` - Health check\n        - `/api/v1/files/` - File management endpoints\n\n        ## Stage Names (Canonical)\n        All endpoints use these exact canonical stage names:\n        - `markdown-conversion`\n        - `markdown-optimizer`\n        - `chunker`\n        - `fact-generator`\n        - `ingestor`\n\n        **Note**: This API completely replaces all previous MoRAG endpoints.\n        No backward compatibility is provided.\n        ","version":"1.0.0","x-logo":{"url":"https://example.com/logo.png"},"x-migration-notice":{"message":"This API completely replaces all previous MoRAG endpoints","backward_compatibility":false,"canonical_stage_names":["markdown-conversion","markdown-optimizer","chunker","fact-generator","ingestor"]}},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint with API information.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/process":{"get":{"summary":"Deprecated Endpoint","description":"Deprecated endpoint notice.","operationId":"deprecated_endpoint_process_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Deprecated Endpoint","description":"Deprecated endpoint notice.","operationId":"deprecated_endpoint_process_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/ingest":{"get":{"summary":"Deprecated Endpoint","description":"Deprecated endpoint notice.","operationId":"deprecated_endpoint_api_v1_ingest_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Deprecated Endpoint","description":"Deprecated endpoint notice.","operationId":"deprecated_endpoint_api_v1_ingest_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/process":{"get":{"summary":"Deprecated Endpoint","description":"Deprecated endpoint notice.","operationId":"deprecated_endpoint_api_v1_process_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Deprecated Endpoint","description":"Deprecated endpoint notice.","operationId":"deprecated_endpoint_api_v1_process_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/stages/":{"get":{"tags":["stages"],"summary":"List Stages","description":"List all available stages with their information.","operationId":"list_stages_api_v1_stages__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageListResponse"}}}}}}},"/api/v1/stages/{stage_name}/execute":{"post":{"tags":["stages"],"summary":"Execute Stage","description":"Execute a single stage using canonical stage names.","operationId":"execute_stage_api_v1_stages__stage_name__execute_post","parameters":[{"name":"stage_name","in":"path","required":true,"schema":{"type":"string","title":"Stage Name"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_execute_stage_api_v1_stages__stage_name__execute_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageExecutionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stages/chain":{"post":{"tags":["stages"],"summary":"Execute Stage Chain","description":"Execute a chain of stages using canonical stage names.","operationId":"execute_stage_chain_api_v1_stages_chain_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_execute_stage_chain_api_v1_stages_chain_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageChainResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stages/execute-all":{"post":{"tags":["stages"],"summary":"Execute All Stages","description":"Execute all stages using form data (for easier API consumption).","operationId":"execute_all_stages_api_v1_stages_execute_all_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_execute_all_stages_api_v1_stages_execute_all_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageChainResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stages/status":{"get":{"tags":["stages"],"summary":"Get Stage Status","description":"Get status of stage execution and available files.","operationId":"get_stage_status_api_v1_stages_status_get","parameters":[{"name":"output_dir","in":"query","required":false,"schema":{"type":"string","description":"Output directory to check","default":"./output","title":"Output Dir"},"description":"Output directory to check"},{"name":"job_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Job ID for background execution","title":"Job Id"},"description":"Job ID for background execution"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stages/cleanup/{job_id}":{"delete":{"tags":["stages"],"summary":"Cleanup Job Files","description":"Clean up all files associated with a specific job ID.","operationId":"cleanup_job_files_api_v1_stages_cleanup__job_id__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"force","in":"query","required":false,"schema":{"type":"boolean","description":"Force cleanup even if job is still running","default":false,"title":"Force"},"description":"Force cleanup even if job is still running"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobCleanupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stages/health":{"get":{"tags":["stages"],"summary":"Health Check","description":"Health check endpoint for the stage-based API.","operationId":"health_check_api_v1_stages_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthCheckResponse"}}}}}}},"/api/v1/files/list":{"get":{"tags":["files"],"summary":"List Files","description":"List available output files with optional filtering.","operationId":"list_files_api_v1_files_list_get","parameters":[{"name":"output_dir","in":"query","required":false,"schema":{"type":"string","description":"Directory to list files from","default":"./output","title":"Output Dir"},"description":"Directory to list files from"},{"name":"stage_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/StageTypeEnum"},{"type":"null"}],"description":"Filter by stage type","title":"Stage Type"},"description":"Filter by stage type"},{"name":"file_extension","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by file extension (e.g., 'json', 'md')","title":"File Extension"},"description":"Filter by file extension (e.g., 'json', 'md')"},{"name":"recursive","in":"query","required":false,"schema":{"type":"boolean","description":"Search recursively in subdirectories","default":true,"title":"Recursive"},"description":"Search recursively in subdirectories"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/download/{file_path}":{"get":{"tags":["files"],"summary":"Download File","description":"Download a specific file.","operationId":"download_file_api_v1_files_download__file_path__get","parameters":[{"name":"file_path","in":"path","required":true,"schema":{"type":"string","title":"File Path"}},{"name":"inline","in":"query","required":false,"schema":{"type":"boolean","description":"Whether to display inline or as attachment","default":false,"title":"Inline"},"description":"Whether to display inline or as attachment"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/info/{file_path}":{"get":{"tags":["files"],"summary":"Get File Info","description":"Get detailed information about a specific file.","operationId":"get_file_info_api_v1_files_info__file_path__get","parameters":[{"name":"file_path","in":"path","required":true,"schema":{"type":"string","title":"File Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageFileMetadata"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/delete/{file_path}":{"delete":{"tags":["files"],"summary":"Delete File","description":"Delete a specific file.","operationId":"delete_file_api_v1_files_delete__file_path__delete","parameters":[{"name":"file_path","in":"path","required":true,"schema":{"type":"string","title":"File Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/cleanup":{"delete":{"tags":["files"],"summary":"Cleanup Output Directory","description":"Clean up old output files.","operationId":"cleanup_output_directory_api_v1_files_cleanup_delete","parameters":[{"name":"output_dir","in":"query","required":false,"schema":{"type":"string","description":"Directory to clean up","default":"./output","title":"Output Dir"},"description":"Directory to clean up"},{"name":"older_than_days","in":"query","required":false,"schema":{"type":"integer","description":"Delete files older than this many days","default":7,"title":"Older Than Days"},"description":"Delete files older than this many days"},{"name":"stage_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/StageTypeEnum"},{"type":"null"}],"description":"Only delete files from specific stage","title":"Stage Type"},"description":"Only delete files from specific stage"},{"name":"dry_run","in":"query","required":false,"schema":{"type":"boolean","description":"If true, only return what would be deleted","default":true,"title":"Dry Run"},"description":"If true, only return what would be deleted"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/stats":{"get":{"tags":["files"],"summary":"Get File Statistics","description":"Get statistics about output files.","operationId":"get_file_statistics_api_v1_files_stats_get","parameters":[{"name":"output_dir","in":"query","required":false,"schema":{"type":"string","description":"Directory to analyze","default":"./output","title":"Output Dir"},"description":"Directory to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_execute_all_stages_api_v1_stages_execute_all_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"stages":{"type":"string","title":"Stages"},"output_dir":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output Dir","default":"./output"},"global_config":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Global Config"},"stage_configs":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stage Configs"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"stop_on_failure":{"type":"boolean","title":"Stop On Failure","default":true},"skip_existing":{"type":"boolean","title":"Skip Existing","default":true},"return_content":{"type":"boolean","title":"Return Content","default":false}},"type":"object","required":["file","stages"],"title":"Body_execute_all_stages_api_v1_stages_execute_all_post"},"Body_execute_stage_api_v1_stages__stage_name__execute_post":{"properties":{"request":{"anyOf":[{"$ref":"#/components/schemas/StageExecutionRequest"},{"type":"string"},{"type":"null"}],"title":"Request"},"file":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"File"},"output_dir":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output Dir","default":"./output"},"config":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Config"},"input_files":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Input Files"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"return_content":{"type":"boolean","title":"Return Content","default":false}},"type":"object","title":"Body_execute_stage_api_v1_stages__stage_name__execute_post"},"Body_execute_stage_chain_api_v1_stages_chain_post":{"properties":{"request":{"anyOf":[{"$ref":"#/components/schemas/StageChainRequest"},{"type":"string"}],"title":"Request"},"file":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"File"}},"type":"object","required":["request"],"title":"Body_execute_stage_chain_api_v1_stages_chain_post"},"FileListResponse":{"properties":{"files":{"items":{"$ref":"#/components/schemas/StageFileMetadata"},"type":"array","title":"Files","description":"List of available files"},"total_count":{"type":"integer","title":"Total Count","description":"Total number of files"},"total_size":{"type":"integer","title":"Total Size","description":"Total size of all files in bytes"}},"type":"object","required":["files","total_count","total_size"],"title":"FileListResponse","description":"Response model for file listing."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthCheckResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Overall health status"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Health check timestamp"},"version":{"type":"string","title":"Version","description":"API version"},"stages_available":{"items":{"$ref":"#/components/schemas/StageTypeEnum"},"type":"array","title":"Stages Available","description":"Available stages"},"services_status":{"additionalProperties":{"type":"string"},"type":"object","title":"Services Status","description":"Status of underlying services"}},"type":"object","required":["status","version","stages_available","services_status"],"title":"HealthCheckResponse","description":"Response model for health check."},"JobCleanupResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether cleanup was successful"},"job_id":{"type":"string","title":"Job Id","description":"Job ID that was cleaned up"},"files_deleted":{"type":"integer","title":"Files Deleted","description":"Number of files deleted"},"directories_removed":{"type":"integer","title":"Directories Removed","description":"Number of directories removed"},"total_size_freed":{"type":"integer","title":"Total Size Freed","description":"Total size freed in bytes"},"deleted_files":{"items":{"type":"string"},"type":"array","title":"Deleted Files","description":"List of deleted file paths"},"message":{"type":"string","title":"Message","description":"Human-readable status message"}},"type":"object","required":["success","job_id","files_deleted","directories_removed","total_size_freed","deleted_files","message"],"title":"JobCleanupResponse","description":"Response model for job cleanup operations."},"StageChainRequest":{"properties":{"stages":{"items":{"$ref":"#/components/schemas/StageTypeEnum"},"type":"array","title":"Stages","description":"List of stages to execute in order"},"input_files":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Input Files","description":"Initial input files (for first stage)"},"global_config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Global Config","description":"Global configuration for all stages"},"stage_configs":{"anyOf":[{"additionalProperties":{"additionalProperties":true,"type":"object"},"propertyNames":{"$ref":"#/components/schemas/StageTypeEnum"},"type":"object"},{"type":"null"}],"title":"Stage Configs","description":"Stage-specific configurations"},"output_dir":{"type":"string","title":"Output Dir","description":"Base output directory","default":"./output"},"webhook_config":{"anyOf":[{"$ref":"#/components/schemas/WebhookConfig"},{"type":"null"}],"description":"Webhook notification configuration"},"stop_on_failure":{"type":"boolean","title":"Stop On Failure","description":"Stop chain execution if any stage fails","default":true},"skip_existing":{"type":"boolean","title":"Skip Existing","description":"Skip stages if their outputs already exist","default":true},"return_content":{"type":"boolean","title":"Return Content","description":"Include file contents in response","default":false}},"type":"object","required":["stages"],"title":"StageChainRequest","description":"Request model for executing a chain of stages."},"StageChainResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether the entire chain executed successfully"},"stages_executed":{"items":{"$ref":"#/components/schemas/StageExecutionResponse"},"type":"array","title":"Stages Executed","description":"Results for each stage executed"},"total_execution_time":{"type":"number","title":"Total Execution Time","description":"Total execution time for the chain"},"failed_stage":{"anyOf":[{"$ref":"#/components/schemas/StageTypeEnum"},{"type":"null"}],"description":"Stage that caused failure (if any)"},"final_output_files":{"items":{"$ref":"#/components/schemas/StageFileMetadata"},"type":"array","title":"Final Output Files","description":"Final output files from the last stage"}},"type":"object","required":["success","stages_executed","total_execution_time","final_output_files"],"title":"StageChainResponse","description":"Response model for stage chain execution."},"StageExecutionMetadata":{"properties":{"execution_time":{"type":"number","title":"Execution Time","description":"Execution time in seconds"},"start_time":{"type":"string","format":"date-time","title":"Start Time","description":"Stage start timestamp"},"end_time":{"type":"string","format":"date-time","title":"End Time","description":"Stage end timestamp"},"input_files":{"items":{"type":"string"},"type":"array","title":"Input Files","description":"List of input files processed"},"config_used":{"additionalProperties":true,"type":"object","title":"Config Used","description":"Configuration used for execution"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Any warnings during execution"}},"type":"object","required":["execution_time","start_time","end_time","input_files","config_used"],"title":"StageExecutionMetadata","description":"Metadata about stage execution."},"StageExecutionRequest":{"properties":{"input_files":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Input Files","description":"List of input file paths (for non-initial stages)"},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config","description":"Stage-specific configuration"},"output_dir":{"type":"string","title":"Output Dir","description":"Output directory for stage results","default":"./output"},"webhook_config":{"anyOf":[{"$ref":"#/components/schemas/WebhookConfig"},{"type":"null"}],"description":"Webhook notification configuration"},"skip_if_exists":{"type":"boolean","title":"Skip If Exists","description":"Skip execution if output files already exist","default":true}},"type":"object","title":"StageExecutionRequest","description":"Request model for executing a single stage."},"StageExecutionResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether the stage executed successfully"},"stage_type":{"$ref":"#/components/schemas/StageTypeEnum","description":"Type of stage executed"},"status":{"$ref":"#/components/schemas/StageStatusEnum","description":"Final status of the stage"},"output_files":{"items":{"$ref":"#/components/schemas/StageFileMetadata"},"type":"array","title":"Output Files","description":"List of output files created"},"metadata":{"$ref":"#/components/schemas/StageExecutionMetadata","description":"Execution metadata"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message if execution failed"},"webhook_sent":{"type":"boolean","title":"Webhook Sent","description":"Whether webhook notification was sent","default":false}},"type":"object","required":["success","stage_type","status","output_files","metadata"],"title":"StageExecutionResponse","description":"Response model for stage execution."},"StageFileMetadata":{"properties":{"filename":{"type":"string","title":"Filename","description":"Name of the output file"},"file_path":{"type":"string","title":"File Path","description":"Full path to the output file"},"file_size":{"type":"integer","title":"File Size","description":"File size in bytes"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"File creation timestamp"},"stage_type":{"$ref":"#/components/schemas/StageTypeEnum","description":"Stage that created this file"},"content_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Type","description":"MIME type of the file"},"checksum":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Checksum","description":"File checksum for integrity verification"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"File content (included when return_content=true)"}},"type":"object","required":["filename","file_path","file_size","created_at","stage_type"],"title":"StageFileMetadata","description":"Metadata for stage output files."},"StageInfoResponse":{"properties":{"stage_type":{"$ref":"#/components/schemas/StageTypeEnum","description":"Stage type"},"description":{"type":"string","title":"Description","description":"Stage description"},"input_formats":{"items":{"type":"string"},"type":"array","title":"Input Formats","description":"Supported input file formats"},"output_formats":{"items":{"type":"string"},"type":"array","title":"Output Formats","description":"Output file formats produced"},"required_config":{"items":{"type":"string"},"type":"array","title":"Required Config","description":"Required configuration parameters"},"optional_config":{"items":{"type":"string"},"type":"array","title":"Optional Config","description":"Optional configuration parameters"},"dependencies":{"items":{"$ref":"#/components/schemas/StageTypeEnum"},"type":"array","title":"Dependencies","description":"Stages that must run before this one"}},"type":"object","required":["stage_type","description","input_formats","output_formats","required_config","optional_config","dependencies"],"title":"StageInfoResponse","description":"Response model for stage information."},"StageListResponse":{"properties":{"stages":{"items":{"$ref":"#/components/schemas/StageInfoResponse"},"type":"array","title":"Stages","description":"List of available stages"},"total_count":{"type":"integer","title":"Total Count","description":"Total number of available stages"}},"type":"object","required":["stages","total_count"],"title":"StageListResponse","description":"Response model for listing all available stages."},"StageStatusEnum":{"type":"string","enum":["not_started","in_progress","completed","failed","skipped"],"title":"StageStatusEnum","description":"Enumeration of stage execution statuses."},"StageStatusResponse":{"properties":{"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id","description":"Job ID if this was a background execution"},"stages_completed":{"items":{"$ref":"#/components/schemas/StageTypeEnum"},"type":"array","title":"Stages Completed","description":"List of stages that have completed"},"current_stage":{"anyOf":[{"$ref":"#/components/schemas/StageTypeEnum"},{"type":"null"}],"description":"Currently executing stage"},"available_files":{"items":{"$ref":"#/components/schemas/StageFileMetadata"},"type":"array","title":"Available Files","description":"Available output files"},"overall_status":{"$ref":"#/components/schemas/StageStatusEnum","description":"Overall execution status"},"progress_percentage":{"type":"number","title":"Progress Percentage","description":"Progress percentage (0-100)"}},"type":"object","required":["stages_completed","available_files","overall_status","progress_percentage"],"title":"StageStatusResponse","description":"Response model for stage status."},"StageTypeEnum":{"type":"string","enum":["markdown-conversion","markdown-optimizer","chunker","fact-generator","ingestor"],"title":"StageTypeEnum","description":"Enumeration of available stage types using canonical names."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WebhookConfig":{"properties":{"url":{"type":"string","title":"Url","description":"Webhook URL to send notifications"},"auth_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auth Token","description":"Optional authentication token"},"headers":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Headers","description":"Optional custom headers"},"retry_count":{"type":"integer","title":"Retry Count","description":"Number of retry attempts","default":3},"timeout":{"type":"integer","title":"Timeout","description":"Timeout in seconds","default":30}},"type":"object","required":["url"],"title":"WebhookConfig","description":"Configuration for webhook notifications."}}}}